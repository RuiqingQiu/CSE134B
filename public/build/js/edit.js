function getHabit(){var e=Parse.Object.extend("Habit"),t=new Parse.Query(e);t.equalTo("objectId",QueryString.objectID),t.find({success:function(e){var t=e[0];document.forms.habitForm.fullname.value=t.get("title"),document.getElementById("icon4").src=t.get("icon_image")._url,document.getElementById("cropped").src=t.get("icon_image")._url,document.getElementById("cropped").alt=t.get("icon_image")._name,selectImage("icon4");var r=t.get("weekly_frequency");console.log(r),weekly_array=r.split(" "),console.log(weekly_array);for(var o=0;o<weekly_array.length-1;o++)document.getElementById(weekly_array[o]).checked=!0;var n=t.get("daily_frequency");console.log(n),3>=n?document.getElementById("day"+n).checked=!0:document.getElementById("others").value=n},error:function(e,t){alert("Error: "+t.code+" "+t.message)}})}function saveEditedHabit(){if(0==error_checking()){var e=Parse.Object.extend("Habit"),t=new e,r=document.getElementById("cropped").src,o=new Parse.File;if("file"==r.substring(0,4)||"http"==r.substring(0,4)){var n=r.substr(r.length-5);if("p.jpg"==n){var a=Parse.Object.extend("Image"),c=new Parse.Query(a);c.equalTo("name","sleep"),c.find({success:function(e){for(var t=0;t<e.length;t++){o=e[t].get("Image");var r=Parse.Object.extend("Habit"),n=new Parse.Query(r);n.equalTo("objectId",QueryString.objectID),n.get(QueryString.objectID,{success:function(e){var t=document.forms.habitForm.fullname.value,r="";$("#ck-button :checked").each(function(){r=r+$(this).val()+" "});var n=0;$("#daily-button :checked").each(function(){n=parseInt($(this).val())}),document.getElementById("others").value&&(n=parseInt(document.getElementById("others").value)),e.set("daily_frequency",n),e.set("title",t),e.set("weekly_frequency",r),e.set("icon_image",o),e.save({success:function(e){console.log("successfully saved"),$("#modal_save_data").modal("show")},error:function(e,t){alert("Error: "+t.code+" "+t.message)}})},error:function(e,t){alert("Error: "+t.code+" "+t.message)}});break}},error:function(e){alert("Error: "+e.code+" "+e.message)}})}else if("d.jpg"==n){var a=Parse.Object.extend("Image"),c=new Parse.Query(a);c.equalTo("name","salad"),c.find({success:function(e){for(var t=0;t<e.length;t++){o=e[t].get("Image");var r=Parse.Object.extend("Habit"),n=new Parse.Query(r);n.equalTo("objectId",QueryString.objectID),n.get(QueryString.objectID,{success:function(e){var t=document.forms.habitForm.fullname.value,r="";$("#ck-button :checked").each(function(){r=r+$(this).val()+" "});var n=0;$("#daily-button :checked").each(function(){n=parseInt($(this).val())}),document.getElementById("others").value&&(n=parseInt(document.getElementById("others").value)),e.set("daily_frequency",n),e.set("title",t),e.set("weekly_frequency",r),e.set("icon_image",o),e.save({success:function(e){console.log("successfully saved"),$("#modal_save_data").modal("show")},error:function(e,t){alert("Error: "+t.code+" "+t.message)}})},error:function(e,t){alert("Error: "+t.code+" "+t.message)}});break}},error:function(e){alert("Error: "+e.code+" "+e.message)}})}else if("n.jpg"==n){var a=Parse.Object.extend("Image"),c=new Parse.Query(a);c.equalTo("name","run"),c.find({success:function(e){for(var t=0;t<e.length;t++){o=e[t].get("Image");var r=Parse.Object.extend("Habit"),n=new Parse.Query(r);n.equalTo("objectId",QueryString.objectID),n.get(QueryString.objectID,{success:function(e){var t=document.forms.habitForm.fullname.value,r="";$("#ck-button :checked").each(function(){r=r+$(this).val()+" "});var n=0;$("#daily-button :checked").each(function(){n=parseInt($(this).val())}),document.getElementById("others").value&&(n=parseInt(document.getElementById("others").value)),e.set("daily_frequency",n),e.set("title",t),e.set("weekly_frequency",r),e.set("icon_image",o),e.save({success:function(e){console.log("successfully saved"),$("#modal_save_data").modal("show")},error:function(e,t){alert("Error: "+t.code+" "+t.message)}})},error:function(e,t){alert("Error: "+t.code+" "+t.message)}});break}},error:function(e){alert("Error: "+e.code+" "+e.message)}})}else{var t=Parse.Object.extend("Habit"),c=new Parse.Query(t);c.equalTo("objectId",QueryString.objectID),c.get(QueryString.objectID,{success:function(e){console.log("find object");var t=document.forms.habitForm.fullname.value,r="";$("#ck-button :checked").each(function(){r=r+$(this).val()+" "});var n=0;$("#daily-button :checked").each(function(){n=parseInt($(this).val())}),document.getElementById("others").value&&(n=parseInt(document.getElementById("others").value)),e.set("daily_frequency",n),e.set("title",t),e.set("weekly_frequency",r),e.set("icon_image",o),e.save({success:function(e){console.log("successfully saved"),$("#modal_save_data").modal("show")},error:function(e,t){alert("Error: "+t.code+" "+t.message)}})},error:function(e,t){alert("Error: "+t.code+" "+t.message)}})}}else{console.log("enter here");var s=r.split("base64,")[1],l=($("#profilePhotoFileUpload")[0],document.getElementById("profilePhotoFileUpload").value.split(/(\\|\/)/g).pop());o=new Parse.File(l,{base64:s});var t=Parse.Object.extend("Habit"),c=new Parse.Query(t);c.equalTo("objectId",QueryString.objectID),c.get(QueryString.objectID,{success:function(e){console.log("find object");var t=document.forms.habitForm.fullname.value,r="";$("#ck-button :checked").each(function(){r=r+$(this).val()+" "});var n=0;$("#daily-button :checked").each(function(){n=parseInt($(this).val())}),document.getElementById("others").value&&(n=parseInt(document.getElementById("others").value)),e.set("daily_frequency",n),e.set("title",t),e.set("weekly_frequency",r),e.set("icon_image",o),e.save({success:function(e){console.log("successfully saved"),$("#modal_save_data").modal("show")},error:function(e,t){alert("Error: "+t.code+" "+t.message)}})},error:function(e,t){alert("Error: "+t.code+" "+t.message)}})}}}var QueryString=function(){for(var e={},t=window.location.search.substring(1),r=t.split("&"),o=0;o<r.length;o++){var n=r[o].split("=");if("undefined"==typeof e[n[0]])e[n[0]]=decodeURIComponent(n[1]);else if("string"==typeof e[n[0]]){var a=[e[n[0]],decodeURIComponent(n[1])];e[n[0]]=a}else e[n[0]].push(decodeURIComponent(n[1]))}return e}();$(document).ready(function(){Parse.initialize("ULppY5RxxZUo8yekihZdVH3uHLm24j5Q6298Un4O","mDAyhkdhlv6qH9lT9WFzMCeML6ycMa1S8oWlybVG"),null==Parse.User.current()||null==Parse.User.current().authenticated()?window.location.href="login.html":getHabit()});