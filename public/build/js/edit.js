function getHabit(){var e=Parse.Object.extend("Habit"),t=new Parse.Query(e);t.equalTo("objectId",QueryString.objectID),t.find({success:function(e){var t=e[0];document.forms.habitForm.fullname.value=t.get("title"),document.getElementById("icon4").src=t.get("icon_image")._url,document.getElementById("cropped").src=t.get("icon_image")._url,document.getElementById("cropped").alt=t.get("icon_image")._name,selectImage("icon4");var r=t.get("weekly_frequency");console.log(r),weekly_array=r.split(" "),console.log(weekly_array);for(var n=0;n<weekly_array.length-1;n++)document.getElementById(weekly_array[n]).checked=!0;var o=t.get("daily_frequency");console.log(o),3>=o?document.getElementById("day"+o).checked=!0:document.getElementById("others").value=o},error:function(e,t){alert("Error: "+t.code+" "+t.message)}})}function saveEditedHabit(){if(0==error_checking()){var e=Parse.Object.extend("Habit"),t=new e,r=document.getElementById("cropped").src,n=new Parse.File;if("file"==r.substring(0,4)||"http"==r.substring(0,4)){var o=r.substr(r.length-5);if("p.jpg"==o){var a=Parse.Object.extend("Image"),c=new Parse.Query(a);c.equalTo("name","sleep"),c.find({success:function(e){for(var t=0;t<e.length;t++){n=e[t].get("Image");var r=Parse.Object.extend("Habit"),o=new Parse.Query(r);o.equalTo("objectId",QueryString.objectID),o.get(QueryString.objectID,{success:function(e){var t=document.forms.habitForm.fullname.value,r="";$("#ck-button :checked").each(function(){r=r+$(this).val()+" "});var o=0;$("#daily-button :checked").each(function(){o=parseInt($(this).val())}),document.getElementById("others").value&&(o=parseInt(document.getElementById("others").value)),e.set("daily_frequency",o),e.set("title",t),e.set("weekly_frequency",r),e.set("icon_image",n),e.save({success:function(e){console.log("successfully saved"),$("#modal_save_data").modal("show")},error:function(e,t){alert("Error: "+t.code+" "+t.message)}})},error:function(e,t){alert("Error: "+t.code+" "+t.message)}});break}},error:function(e){alert(e)}})}else if("d.jpg"==o){var a=Parse.Object.extend("Image"),c=new Parse.Query(a);c.equalTo("name","salad"),c.find({success:function(e){for(var t=0;t<e.length;t++){n=e[t].get("Image");var r=Parse.Object.extend("Habit"),o=new Parse.Query(r);o.equalTo("objectId",QueryString.objectID),o.get(QueryString.objectID,{success:function(e){var t=document.forms.habitForm.fullname.value,r="";$("#ck-button :checked").each(function(){r=r+$(this).val()+" "});var o=0;$("#daily-button :checked").each(function(){o=parseInt($(this).val())}),document.getElementById("others").value&&(o=parseInt(document.getElementById("others").value)),e.set("daily_frequency",o),e.set("title",t),e.set("weekly_frequency",r),e.set("icon_image",n),e.save({success:function(e){console.log("successfully saved"),$("#modal_save_data").modal("show")},error:function(e,t){alert("Error: "+t.code+" "+t.message)}})},error:function(e,t){alert("Error: "+t.code+" "+t.message)}});break}},error:function(e){alert(e)}})}else if("n.jpg"==o){var a=Parse.Object.extend("Image"),c=new Parse.Query(a);c.equalTo("name","run"),c.find({success:function(e){for(var t=0;t<e.length;t++){n=e[t].get("Image");var r=Parse.Object.extend("Habit"),o=new Parse.Query(r);o.equalTo("objectId",QueryString.objectID),o.get(QueryString.objectID,{success:function(e){var t=document.forms.habitForm.fullname.value,r="";$("#ck-button :checked").each(function(){r=r+$(this).val()+" "});var o=0;$("#daily-button :checked").each(function(){o=parseInt($(this).val())}),document.getElementById("others").value&&(o=parseInt(document.getElementById("others").value)),e.set("daily_frequency",o),e.set("title",t),e.set("weekly_frequency",r),e.set("icon_image",n),e.save({success:function(e){console.log("successfully saved"),$("#modal_save_data").modal("show")},error:function(e,t){alert("Error: "+t.code+" "+t.message)}})},error:function(e,t){alert("Error: "+t.code+" "+t.message)}});break}},error:function(e){alert(e)}})}else{var t=Parse.Object.extend("Habit"),c=new Parse.Query(t);c.equalTo("objectId",QueryString.objectID),c.get(QueryString.objectID,{success:function(e){console.log("find object");var t=document.forms.habitForm.fullname.value,r="";$("#ck-button :checked").each(function(){r=r+$(this).val()+" "});var o=0;$("#daily-button :checked").each(function(){o=parseInt($(this).val())}),document.getElementById("others").value&&(o=parseInt(document.getElementById("others").value)),e.set("daily_frequency",o),e.set("title",t),e.set("weekly_frequency",r),e.set("icon_image",n),e.save({success:function(e){console.log("successfully saved"),$("#modal_save_data").modal("show")},error:function(e,t){alert("Error: "+t.code+" "+t.message)}})},error:function(e,t){alert("Error: "+t.code+" "+t.message)}})}}else{console.log("enter here");var s=r.split("base64,")[1],l=($("#profilePhotoFileUpload")[0],document.getElementById("profilePhotoFileUpload").value.split(/(\\|\/)/g).pop());n=new Parse.File(l,{base64:s});var t=Parse.Object.extend("Habit"),c=new Parse.Query(t);c.equalTo("objectId",QueryString.objectID),c.get(QueryString.objectID,{success:function(e){console.log("find object");var t=document.forms.habitForm.fullname.value,r="";$("#ck-button :checked").each(function(){r=r+$(this).val()+" "});var o=0;$("#daily-button :checked").each(function(){o=parseInt($(this).val())}),document.getElementById("others").value&&(o=parseInt(document.getElementById("others").value)),e.set("daily_frequency",o),e.set("title",t),e.set("weekly_frequency",r),e.set("icon_image",n),e.save({success:function(e){console.log("successfully saved"),$("#modal_save_data").modal("show")},error:function(e,t){alert("Error: "+t.code+" "+t.message)}})},error:function(e,t){alert("Error: "+t.code+" "+t.message)}})}}}var QueryString=function(){for(var e={},t=window.location.search.substring(1),r=t.split("&"),n=0;n<r.length;n++){var o=r[n].split("=");if("undefined"==typeof e[o[0]])e[o[0]]=decodeURIComponent(o[1]);else if("string"==typeof e[o[0]]){var a=[e[o[0]],decodeURIComponent(o[1])];e[o[0]]=a}else e[o[0]].push(decodeURIComponent(o[1]))}return e}();$(document).ready(function(){Parse.initialize("ULppY5RxxZUo8yekihZdVH3uHLm24j5Q6298Un4O","mDAyhkdhlv6qH9lT9WFzMCeML6ycMa1S8oWlybVG"),(null==Parse.User.current()||null==Parse.User.current().authenticated())&&(window.location.href="login.html"),getHabit()});